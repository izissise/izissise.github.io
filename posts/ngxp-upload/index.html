<!doctype html><html lang=en><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§±</text></svg>"><link rel=monetization href=https://ilp.gatehub.net/669637781/eur><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nginx Explorer - Upload","author":{"@type":"Person","name":"Hugues Morisset","url":"https://blog.izissise.net/about"},"datePublished":"2025-03-01"}</script><title>Nginx Explorer - Upload</title><meta property="og:title" content="Nginx Explorer - Upload"><script defer src=/js/codecopy.js></script><script defer src=/js/ofuscate.js></script><script data-goatcounter=https://izissise.goatcounter.com/count async src=/js/count.js></script><noscript><img style=display:none src="https://izissise.goatcounter.com//count?p=/posts/ngxp-upload/&t=Nginx Explorer - Upload"></noscript><link rel=alternate type=application/atom+xml title href=/atom.xml><link rel=stylesheet media=screen href=/main.css><div class=content><header><nav><a href=/posts>/posts</a>
<a href=/about>/about</a>
<a href=/atom.xml>/rss</a>
|
<button id=theme type=reset title="switch theme">ðŸŒ“</button>
<script src=/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Nginx Explorer - Upload</div><div class=meta><span>Posted on <time datetime=2025-03-01>2025-03-01</time></span>
<span class=readingtime>3 minutes read</span></div></div><section class=body><p>After <a href=/posts/ngxp-listing>listing files</a> and setting up per <a href=/posts/ngxp-cookie-auth>directory accesses</a>,
we would like to allow some users to upload files.<p>This solution is very hacky, but it has the advantage of requiring only a standard nginx server and a bit of javaScript.<h1 id=nginx-configuration><a class=zola-anchor href=#nginx-configuration aria-label="Anchor link for: nginx-configuration">Nginx Configuration</a></h1><p>First, we define our upload endpoint:<pre class="giallo z-code"><code data-lang=nginx><span class=giallo-l><span>...</span></span>
<span class=giallo-l><span class="z-storage z-type">server</span><span> {</span></span>
<span class=giallo-l><span>    ...</span></span>
<span class=giallo-l><span class="z-storage z-type z-keyword">    location ^~</span><span class="z-string z-regexp"> /___ngxp/upload/ </span><span>{</span></span>
<span class=giallo-l><span class=z-keyword>        limit_except</span><span> GET POST     { deny </span><span class=z-constant>all</span><span>; }</span></span>
<span class=giallo-l><span class=z-keyword>        if</span><span class="z-variable z-other"> ($user_authorized</span><span class=z-keyword> = </span><span>0) {</span><span class=z-keyword> return</span><span class=z-constant> 401</span><span>; }</span><span class=z-comment>  # auth works here aswell</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span class=z-keyword>        client_body_temp_path</span><span>      /home/user/uploads/;</span><span class=z-comment> # upload path</span></span>
<span class=giallo-l><span class=z-keyword>        client_body_in_file_only</span><span class=z-constant>   on</span><span>;</span><span class=z-comment> # store on disk</span></span>
<span class=giallo-l><span class=z-keyword>        client_body_buffer_size</span><span class=z-constant>    16m</span><span>;</span></span>
<span class=giallo-l><span class=z-keyword>        client_max_body_size</span><span class=z-constant>       256m</span><span>;</span></span>
<span class=giallo-l><span class=z-keyword>        client_body_timeout</span><span class=z-constant>        2h</span><span>;</span></span>
<span class=giallo-l><span class=z-keyword>        proxy_set_body</span><span class=z-constant>             off</span><span>;</span><span class=z-comment> # do not send file to proxy</span></span>
<span class=giallo-l><span class=z-keyword>        proxy_set_header</span><span>           X-fileno </span><span class=z-string>&quot;$</span><span class="z-variable z-other">upload_fileno</span><span class=z-string>&quot;</span><span>;</span><span class=z-comment> # send it back to client</span></span>
<span class=giallo-l><span class=z-keyword>        proxy_pass</span><span class="z-variable z-other">                 http://[::1]:4000/$request_method;</span></span>
<span class=giallo-l><span>    }</span></span>
<span class=giallo-l><span>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span class="z-storage z-type">map</span><span> $</span><span class=z-variable>request_body_file</span><span class="z-variable z-other"> $upload_fileno {</span><span class=z-comment> # upload filename path part</span></span>
<span class=giallo-l><span class=z-keyword>    ~</span><span>([</span><span class="z-string z-regexp">^\/]*)$</span><span class="z-variable z-other"> $1;</span><span class=z-comment> # set $upload_fileno to request filename</span></span>
<span class=giallo-l><span class=z-constant>    default</span><span class=z-string>    &quot;&quot;</span><span>;</span></span>
<span class=giallo-l><span>}</span></span></code></pre><p><a rel="noopener external" target=_blank href=https://nginx.org/en/docs/http/ngx_http_core_module.html#client_body_temp_path><code>client_body_temp_path</code></a> will store request bodies at the specified path on the file system.
However, <code>nginx</code> will actually do so only if there is a <a rel="noopener external" target=_blank href=https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass><code>proxy_pass</code></a> defined.<p>To work around this, we define another server that listens only on localhost. With <code>proxy_set_body off;</code>, the body will not actually be sent to the proxy.<pre class="giallo z-code"><code data-lang=nginx><span class=giallo-l><span class="z-storage z-type">server</span><span> {</span></span>
<span class=giallo-l><span class=z-keyword>    listen</span><span> [::1]:4000;</span></span>
<span class=giallo-l><span class="z-storage z-type">    location</span><span class="z-entity z-name"> /POST </span><span>{</span><span class=z-keyword> return</span><span class=z-constant> 201</span><span class=z-string> &quot;$</span><span class="z-variable z-other">http_x_fileno</span><span class=z-string>&quot;</span><span>; }</span></span>
<span class=giallo-l><span class="z-storage z-type">    location</span><span class="z-entity z-name"> /GET  </span><span>{</span><span class=z-keyword> return</span><span class=z-constant> 200</span><span class=z-string> &quot;ngxp upload&quot;</span><span>; }</span></span>
<span class=giallo-l><span>}</span></span></code></pre><p>Nginx will create an ever incrementing numbered file for every request body, the increment is non predictable thanks to nginx true randomness<sup class=footnote-reference id=fr-1-1><a href=#fn-1>1</a></sup>.<h1 id=javascript-code><a class=zola-anchor href=#javascript-code aria-label="Anchor link for: javascript-code">Javascript code</a></h1><p>To upload files larger than <code>client_max_body_size</code> and preserve the original filename for the administrator, we'll have to write some client side code.<p>Using javascript, we can <a rel="noopener external" target=_blank href=https://github.com/izissise/nginx-explorer/blob/d9eb425e0ff3591105724eeba882c576a049d0dc/main.js#L644-L686>upload a file with an XHR request</a>, and split the file into chunks. Conveniently, browser <code>File</code> objects have a <a rel="noopener external" target=_blank href=https://developer.mozilla.org/en-US/docs/Web/API/Blob/slice>slice</a> function.<p>We also send a meta file to allow the server operator to reconstruct the file from its chunks. This file includes metadata such as a magic header, chunk size, chunk count, the size of the last chunk and the filename of each chunk on the server as sent back by nginx (X-fileno).<pre class="giallo z-code"><code data-lang=javascript><span class=giallo-l><span class="z-punctuation z-definition z-comment z-comment">// files is [File]</span></span>
<span class=giallo-l><span class="z-variable z-other">Array.</span><span class="z-entity z-name">from</span><span class="z-variable z-other">(files).</span><span class="z-entity z-name">forEach</span><span>((</span><span class=z-variable>f</span><span>)</span><span class="z-storage z-type"> =&gt;</span><span> {</span></span>
<span class=giallo-l><span class="z-storage z-type">    var</span><span class="z-variable z-other"> chunk_cnt</span><span class=z-keyword> =</span><span class=z-constant> 1</span><span>;</span></span>
<span class=giallo-l><span class="z-storage z-type">    var</span><span class="z-variable z-other"> chunk_size</span><span class=z-keyword> =</span><span class="z-variable z-other"> f.size;</span></span>
<span class=giallo-l><span class="z-storage z-type">    var</span><span class="z-variable z-other"> chunk_last_size</span><span class=z-keyword> =</span><span class=z-constant> 0</span><span>;</span></span>
<span class=giallo-l><span class=z-keyword>    if</span><span class="z-variable z-other"> (upload_max_size</span><span class=z-keyword> &gt;</span><span class=z-constant> 0</span><span class=z-keyword> &amp;&amp;</span><span class="z-variable z-other"> f.size</span><span class=z-keyword> &gt;</span><span class="z-variable z-other"> upload_max_size) {</span></span>
<span class=giallo-l><span class="z-punctuation z-definition z-comment z-comment">        // upload in chunks</span></span>
<span class=giallo-l><span class="z-variable z-other">        chunk_cnt</span><span class=z-keyword> =</span><span class="z-variable z-other"> f.size</span><span class=z-keyword> /</span><span class="z-variable z-other"> upload_max_size</span><span class=z-keyword> |</span><span class=z-constant> 0</span><span>;</span></span>
<span class=giallo-l><span class="z-variable z-other">        chunk_size</span><span class=z-keyword> =</span><span class="z-variable z-other"> upload_max_size;</span></span>
<span class=giallo-l><span class="z-variable z-other">        chunk_last_size</span><span class=z-keyword> =</span><span class="z-variable z-other"> f.size</span><span class=z-keyword> %</span><span class="z-variable z-other"> upload_max_size</span><span class=z-keyword> |</span><span class=z-constant> 0</span><span>;</span></span>
<span class=giallo-l><span class=z-keyword>        if</span><span class="z-variable z-other"> (chunk_last_size</span><span class=z-keyword> &gt;</span><span class=z-constant> 0</span><span>) {</span></span>
<span class=giallo-l><span class="z-variable z-other">            chunk_cnt</span><span class=z-keyword> +=</span><span class=z-constant> 1</span><span>;</span></span>
<span class=giallo-l><span>        }</span></span>
<span class=giallo-l><span>    }</span></span>
<span class=giallo-l><span class="z-storage z-type">    var</span><span class="z-variable z-other"> promise_chain</span><span class=z-keyword> =</span><span class=z-support> Promise</span><span>.</span><span class="z-entity z-name">resolve</span><span>(([</span><span class=z-constant>null</span><span>, []]));</span></span>
<span class=giallo-l><span class=z-keyword>    for</span><span> (</span><span class="z-storage z-type">var</span><span class="z-variable z-other"> i</span><span class=z-keyword> =</span><span class=z-constant> 0</span><span class="z-variable z-other">; i</span><span class=z-keyword> &lt;</span><span class="z-variable z-other"> chunk_cnt; i</span><span class=z-keyword>++</span><span>) {</span></span>
<span class=giallo-l><span class="z-storage z-type">        var</span><span class="z-variable z-other"> chsz</span><span class=z-keyword> =</span><span class="z-variable z-other"> chunk_size;</span></span>
<span class=giallo-l><span class=z-keyword>        if</span><span class="z-variable z-other"> ((seeker</span><span class=z-keyword> +</span><span class="z-variable z-other"> chsz)</span><span class=z-keyword> &gt;</span><span class="z-variable z-other"> f.size) {</span></span>
<span class=giallo-l><span class="z-variable z-other">            chsz</span><span class=z-keyword> =</span><span class="z-variable z-other"> chunk_last_size;</span></span>
<span class=giallo-l><span>        }</span></span>
<span class=giallo-l><span class="z-storage z-type">        let</span><span class="z-variable z-other"> chunk</span><span class=z-keyword> =</span><span class="z-variable z-other"> f.</span><span class="z-entity z-name">slice</span><span class="z-variable z-other">(seeker, seeker</span><span class=z-keyword> +</span><span class="z-variable z-other"> chsz);</span><span class="z-punctuation z-definition z-comment z-comment"> // &lt;--- slice</span></span>
<span class=giallo-l><span class="z-variable z-other">        seeker</span><span class=z-keyword> +=</span><span class="z-variable z-other"> chsz;</span></span>
<span class=giallo-l><span class="z-variable z-other">        promise_chain</span><span class=z-keyword> =</span><span class="z-variable z-other"> promise_chain.</span><span class="z-entity z-name">then</span><span>(([</span><span class=z-variable>xhr</span><span>,</span><span class=z-variable> chunk_fileno</span><span>])</span><span class="z-storage z-type"> =&gt;</span><span> {</span></span>
<span class=giallo-l><span class=z-keyword>            if</span><span class="z-variable z-other"> (xhr</span><span class=z-keyword> !==</span><span class=z-constant> null</span><span>) {</span></span>
<span class=giallo-l><span class="z-variable z-other">                chunk_fileno.</span><span class="z-entity z-name">push</span><span class="z-variable z-other">(xhr.responseText);</span></span>
<span class=giallo-l><span>            }</span></span>
<span class=giallo-l><span class=z-keyword>            return</span><span class="z-entity z-name"> upload</span><span class="z-variable z-other">(upload_endpoint, chunk, chunk_fileno);</span></span>
<span class=giallo-l><span>        });</span></span>
<span class=giallo-l><span>    }</span></span>
<span class=giallo-l><span class="z-punctuation z-definition z-comment z-comment">    // finally upload meta file</span></span>
<span class=giallo-l><span class=z-keyword>    return</span><span class="z-variable z-other"> promise_chain.</span><span class="z-entity z-name">then</span><span>(([</span><span class=z-variable>xhr</span><span>,</span><span class=z-variable> chunk_fileno</span><span>])</span><span class="z-storage z-type"> =&gt;</span><span> {</span></span>
<span class=giallo-l><span class=z-keyword>        if</span><span class="z-variable z-other"> (xhr</span><span class=z-keyword> !==</span><span class=z-constant> null</span><span>) {</span></span>
<span class=giallo-l><span class="z-variable z-other">            chunk_fileno.</span><span class="z-entity z-name">push</span><span class="z-variable z-other">(xhr.responseText);</span></span>
<span class=giallo-l><span>        }</span></span>
<span class=giallo-l><span class="z-storage z-type">        var</span><span class="z-variable z-other"> meta</span><span class=z-keyword> =</span><span class="z-entity z-name"> meta_info</span><span class="z-variable z-other">(f, chunk_cnt, chunk_size, chunk_last_size, chunk_fileno);</span></span>
<span class=giallo-l><span class=z-keyword>        return</span><span class="z-entity z-name"> upload_func</span><span>(</span></span>
<span class=giallo-l><span class="z-variable z-other">            upload_endpoint, meta, chunk_fileno</span></span>
<span class=giallo-l><span>        );</span></span>
<span class=giallo-l><span>    }).</span><span class="z-entity z-name">then</span><span class="z-variable z-other">(upload_success, upload_error);</span></span>
<span class=giallo-l><span>});</span></span></code></pre><p>With the <code>promise_chain</code>, each chunk of the file will be uploaded one after the other!<p>The chunks will be waiting until they are reassembled.<h1 id=reassemble-with-a-bash-script><a class=zola-anchor href=#reassemble-with-a-bash-script aria-label="Anchor link for: reassemble-with-a-bash-script">Reassemble with a bash script</a></h1><p>Once a file is upload we're left with numbered files in the previously specified directory.<p>We can reconstruct the original files by searching for all files that start with the marker value <code>#ngxpupload_meta</code>. With this meta file, we find all chunks of a file and concatenate them into a file named <code>$name</code>. Finally, we remove all used chunks.<pre class="giallo z-code"><code data-lang=shellscript><span class=giallo-l><span class="z-entity z-name">find</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class=z-variable>$1</span><span class="z-punctuation z-definition z-string">&quot;</span><span class=z-constant> -type</span><span class=z-string> f</span><span class=z-keyword> | while</span><span class="z-support z-constant"> read -r</span><span class=z-string> h</span><span>;</span><span class=z-keyword> do</span></span>
<span class=giallo-l><span class=z-keyword>    if</span><span> [</span><span class=z-keyword> ! -f</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string">&quot;</span><span> ];</span><span class=z-keyword> then continue</span><span>;</span><span class=z-keyword> fi</span><span class="z-punctuation z-definition z-comment z-comment">                                                # file still exist</span></span>
<span class=giallo-l><span class="z-support z-constant">    read -r -n 16</span><span class=z-string> head</span><span class=z-keyword> &lt;</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string">&quot;</span><span class=z-keyword> ||</span><span class=z-support> true</span><span class="z-punctuation z-definition z-comment z-comment">                                                  # read first 16 bytes</span></span>
<span class=giallo-l><span class=z-keyword>    if</span><span> [</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$head</span><span class="z-punctuation z-definition z-string">&quot;</span><span class=z-keyword> !=</span><span class="z-punctuation z-definition z-string z-string"> &quot;#ngxpupload_meta&quot;</span><span> ];</span><span class=z-keyword> then continue</span><span>;</span><span class=z-keyword> fi</span><span class="z-punctuation z-definition z-comment z-comment">                            # if marker value</span></span>
<span class=giallo-l><span class="z-variable z-other">    IFS</span><span class=z-keyword>=</span><span class="z-punctuation z-definition z-string z-string">&#39;/&#39;</span><span class="z-support z-constant"> read -r</span><span class=z-string> name chk_cnt chk_sz chk_lsz</span><span class=z-keyword> &lt;</span><span class="z-punctuation z-definition z-string"> &lt;(</span></span>
<span class=giallo-l><span class="z-entity z-name">        jq</span><span class=z-constant> -Rr</span><span class="z-punctuation z-definition z-string z-string"> &#39;fromjson? | [(.name | sub(&quot;/&quot;;&quot;_&quot;;&quot;g&quot;)), (.chunk_cnt|tonumber), (.chunk_size|tonumber), (.chunk_last_size|tonumber)] | join(&quot;/&quot;)&#39; &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string">&quot;</span></span>
<span class=giallo-l><span class="z-punctuation z-definition z-string">    )</span><span class="z-punctuation z-definition z-comment z-comment"> # extract json</span></span>
<span class=giallo-l><span class=z-support>    eval</span><span class="z-punctuation z-definition z-string z-string"> &quot;chk_fileno=( $(</span><span class="z-entity z-name"> jq</span><span class=z-constant> -Rr --arg</span><span class="z-string z-punctuation z-definition z-string"> d &quot;</span><span class=z-variable>$1</span><span class="z-punctuation z-definition z-string z-string">&quot; &#39;fromjson? | .chunk_fileno[] | select(test(&quot;^[0-9]*$&quot;)) | &quot;\($d)\(.)&quot; | @sh&#39; &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string z-string">&quot; ) )&quot;</span></span>
<span class=giallo-l><span class="z-variable z-other">    stats</span><span class=z-keyword>=</span><span>$(</span><span class="z-support z-constant">stat -c</span><span class="z-punctuation z-definition z-string z-string"> &#39;%n %s&#39; &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string z-string">&quot; &quot;${</span><span class="z-variable z-other">chk_fileno</span><span class=z-string>[</span><span class=z-keyword>@</span><span class="z-string z-punctuation z-definition z-string">]}&quot;</span><span class=z-keyword> |</span><span class="z-entity z-name"> sort</span><span class=z-keyword> |</span><span class="z-entity z-name"> uniq</span><span class=z-constant> -f1 -c</span><span>)</span></span>
<span class=giallo-l><span class="z-variable z-other">    stats</span><span class=z-keyword>=</span><span class="z-variable z-other">${stats</span><span class=z-keyword>%</span><span> [0-9]</span><span class=z-keyword>*</span><span>}</span></span>
<span class=giallo-l><span class="z-variable z-other">    stats</span><span class=z-keyword>=</span><span class="z-variable z-other">${stats</span><span class=z-keyword>//</span><span> }</span></span>
<span class=giallo-l><span class="z-variable z-other">    stats</span><span class=z-keyword>=</span><span class="z-variable z-other">${stats</span><span class=z-keyword>//</span><span class="z-punctuation z-definition z-string">$&#39;</span><span class=z-constant>\n</span><span class="z-punctuation z-definition z-string">&#39;</span><span>}</span></span>
<span class=giallo-l><span class="z-variable z-other">    expected</span><span class=z-keyword>=</span><span class="z-punctuation z-definition z-string z-string">&quot;$((</span><span class="z-entity z-name"> chk_cnt</span><span class=z-string> - ( chk_lsz</span><span class=z-keyword> &gt;</span><span class=z-constant> 0</span><span class=z-string> ) ))${</span><span class="z-variable z-other">chk_fileno</span><span class=z-string>[0]}${</span><span class="z-variable z-other">chk_sz</span><span class="z-string z-punctuation z-definition z-string">}&quot;</span></span>
<span class=giallo-l><span class=z-keyword>    if</span><span class="z-variable z-other"> (( chk_lsz</span><span class=z-keyword> &gt;</span><span class=z-constant> 0</span><span> ));</span><span class=z-keyword> then</span></span>
<span class=giallo-l><span class="z-variable z-other">        expected</span><span class=z-keyword>+=</span><span class="z-punctuation z-definition z-string z-string">&quot;1${</span><span class="z-variable z-other">chk_fileno</span><span class=z-string>[-1]}${</span><span class="z-variable z-other">chk_lsz</span><span class="z-string z-punctuation z-definition z-string">}&quot;</span></span>
<span class=giallo-l><span class=z-keyword>    fi</span></span>
<span class=giallo-l><span>    [</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$stats</span><span class="z-punctuation z-definition z-string">&quot;</span><span class=z-keyword> =</span><span class="z-punctuation z-definition z-string z-string"> &quot;${</span><span class="z-variable z-other">expected</span><span class=z-string>}1${</span><span class="z-variable z-other">h</span><span class="z-string z-punctuation z-definition z-string">}&quot;</span><span> ]</span><span class=z-keyword> ||</span><span> {</span><span class=z-support> echo</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$h</span><span class="z-string z-punctuation z-definition z-string"> meta invalid&quot;</span><span class=z-keyword> &gt;&amp;2</span><span>;</span><span class=z-keyword> break</span><span>; }</span></span>
<span class=giallo-l><span class="z-entity z-name">    cat</span><span class="z-punctuation z-definition z-string z-string"> &quot;${</span><span class="z-variable z-other">chk_fileno</span><span class=z-string>[</span><span class=z-keyword>@</span><span class="z-string z-punctuation z-definition z-string">]}&quot;</span><span class=z-keyword> &gt;</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$name</span><span class="z-punctuation z-definition z-string">&quot;</span></span>
<span class=giallo-l><span class="z-entity z-name">    rm</span><span class=z-constant> -f</span><span class="z-punctuation z-definition z-string"> &quot;</span><span class="z-variable z-other">$h</span><span class="z-punctuation z-definition z-string z-string">&quot; &quot;${</span><span class="z-variable z-other">chk_fileno</span><span class=z-string>[</span><span class=z-keyword>@</span><span class="z-string z-punctuation z-definition z-string">]}&quot;</span></span>
<span class=giallo-l><span class=z-keyword>done</span></span></code></pre><p>That's the gist of how <a rel="noopener external" target=_blank href=https://github.com/izissise/nginx-explorer>nginx explorer</a> uploads work!<p>There are a lot of other cool features in the UI part that I've not wrote about yet and some I've yet to implement.<p>Don't hesitate to go <a rel="noopener external" target=_blank href=https://github.com/izissise/nginx-explorer>look at the project page</a> and test nginx explorer <code>./ngxp.sh servethis</code>.<section class=footnotes><ol class=footnotes-list><li id=fn-1><p><a rel="noopener external" target=_blank href=https://github.com/nginx/nginx/blob/stable-1.26/src/core/ngx_file.c#L348>Not actually random</a> <a href=#fr-1-1>â†©</a></ol></section></section></article></main></div><footer><hr><nav><a rel=me href=/about>Hugues</a> |
<a rel=atom href=/atom.xml class="rss icon" title=rss></a><a rel=me href=https://github.com/izissise class="github icon" title=github></a><a rel=me href=https://stackoverflow.com/users/2838914/izissise class="stack icon" title=stackoverflow></a><a rel=me href=https://links.izissise.net/ class="shaarli icon" title=shaarli></a><a rel=me href=https://www.linkedin.com/in/huguesmorisset/ class="linkedin icon" title=linkedin></a><a rel=me href="=MWM2IDZ1cDN0ATMwEDMyEjYxEmM5QDMwIWNmFjYxQDMkFDNyYDNxATMygDNwEDOwEWM3MjM1QDM" class="m-protected matrix icon" title=matrix></a><a rel=me href="==wYwQWMiBjZ0QDMhJjM1QDM2AjMzIWM0ADZxQjM2QTMwYGN2ADZwITMiFTYyEDN2AzYwgDN3ATNxQDMhJjM1QDM" class="m-protected mail icon" title=email></a>| &#169; 2026